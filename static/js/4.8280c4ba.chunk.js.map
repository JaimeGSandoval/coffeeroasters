{"version":3,"sources":["components/plan-page/order-modal/_order-modal.module.scss","components/plan-page/order-modal/priceTotal.js","components/plan-page/order-modal/OrderModal.jsx"],"names":["module","exports","currencyFormatter","Intl","NumberFormat","style","currency","calculateTotal","amount","delivery","total","format","toString","withRouter","history","textRef","useRef","useContext","StoreContext","orderData","setOrderData","OrderModalContext","showOrderModal","setShowOrderModal","show","styles","useEffect","drinkType","current","display","specialText","color","handleClick","push","coffeeType","coffeeAmount","grindType","deliveryType","ReactDOM","createPortal","className","orderSummaryModalContainer","orderSummaryModalBox","orderModalTitleContainer","orderModalTitleBox","orderModalTitle","orderModalTextBox","orderModalText","orderText","ref","confirmTextBox","confirmText","submitOrderBtnMobile","onClick","checkoutTotalContainerLg","submitOrderBtnLg","document","getElementById"],"mappings":"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","file":"static/js/4.8280c4ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderSummaryModalContainer\":\"_order-modal_orderSummaryModalContainer__3gKY8\",\"orderSummaryModalBox\":\"_order-modal_orderSummaryModalBox__1js12\",\"orderModalTitleContainer\":\"_order-modal_orderModalTitleContainer__1zClt\",\"orderModalTitleBox\":\"_order-modal_orderModalTitleBox__lgVXI\",\"orderModalTitle\":\"_order-modal_orderModalTitle__2hiHc\",\"orderModalTextBox\":\"_order-modal_orderModalTextBox__1ffuf\",\"confirmTextBox\":\"_order-modal_confirmTextBox__1adr9\",\"confirmText\":\"_order-modal_confirmText__1om6m\",\"submitOrderBtnMobile\":\"_order-modal_submitOrderBtnMobile__3HjM0\",\"submitOrderBtnLg\":\"_order-modal_submitOrderBtnLg__XWSY4\",\"orderText\":\"_order-modal_orderText__1YJ3B\",\"showOrderModal\":\"_order-modal_showOrderModal__1n0ZK\",\"orderModalText\":\"_order-modal_orderModalText__9yzRl\",\"total\":\"_order-modal_total__3oZqS\",\"checkoutTotalContainerLg\":\"_order-modal_checkoutTotalContainerLg__2l_Ds\"};","const currencyFormatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n});\n\nconst calculateTotal = (amount, delivery) => {\n  let total = null;\n  const weeklyCost = 14;\n  const biWeeklyCost = 17.25;\n  const monthlyCost = 22.5;\n\n  if (delivery === 'Every week' && amount === '250g') {\n    total = 7.2 * 4 + weeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every 2 weeks' && amount === '250g') {\n    total = 9.6 * 2 + biWeeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every month' && amount === '250g') {\n    total = 12.0 + monthlyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every week' && amount === '500g') {\n    total = 13 * 4 + weeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every 2 weeks' && amount === '500g') {\n    total = 17.5 * 2 + biWeeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every month' && amount === '500g') {\n    total = 22.0 + monthlyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every week' && amount === '1000g') {\n    total = 22.0 * 4 + weeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every 2 weeks' && amount === '1000g') {\n    total = 32 * 2 + biWeeklyCost;\n    return currencyFormatter.format(total).toString();\n  }\n\n  if (delivery === 'Every month' && amount === '1000g') {\n    total = 42.0 + monthlyCost;\n    return currencyFormatter.format(total).toString();\n  }\n};\n\nexport default calculateTotal;\n","import React, { useContext, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { withRouter } from 'react-router-dom';\nimport { StoreContext } from '../context/Context';\nimport { OrderModalContext } from '../context/OrderModalContext';\nimport calculateTotal from './priceTotal';\nimport styles from './_order-modal.module.scss';\n\nconst OrderModal = ({ history }) => {\n  const textRef = useRef();\n  const { orderData, setOrderData } = useContext(StoreContext);\n  const { showOrderModal, setShowOrderModal } = useContext(OrderModalContext);\n  const show = showOrderModal ? styles.showOrderModal : '';\n\n  useEffect(() => {\n    if (orderData.drinkType === 'Capsule') {\n      textRef.current.style.display = 'none';\n    } else {\n      textRef.current.style.display = 'initial';\n    }\n  }, [orderData.drinkType]);\n\n  const drinkType =\n    orderData.drinkType === 'Capsule'\n      ? `${orderData.drinkType}s`\n      : orderData.drinkType;\n\n  const specialText =\n    orderData.drinkType === 'Capsule' ? (\n      <span style={{ color: '#83888f' }}>using</span>\n    ) : (\n      <span style={{ color: '#83888f' }}>as</span>\n    );\n\n  const handleClick = () => {\n    history.push('/');\n    setShowOrderModal(false);\n    setOrderData({\n      drinkType: '',\n      coffeeType: '',\n      coffeeAmount: '',\n      grindType: '',\n      deliveryType: '',\n    });\n  };\n\n  return ReactDOM.createPortal(\n    <div\n      className={`${styles.orderSummaryModalContainer} ${show}`}\n      aria-modal=\"true\"\n    >\n      <div className={styles.orderSummaryModalBox}>\n        <div className={styles.orderModalTitleContainer}>\n          <div className={styles.orderModalTitleBox}>\n            <h1 className={styles.orderModalTitle}>order summary</h1>\n          </div>\n        </div>\n\n        <div className={styles.orderModalTextBox}>\n          <p className={styles.orderModalText}>\n            “I drink my coffee{' '}\n            <span className={styles.orderText}>\n              {' '}\n              {specialText} {drinkType}\n            </span>\n            , with a{' '}\n            <span className={styles.orderText}> {orderData.coffeeType}</span>{' '}\n            type of bean.{' '}\n            <span className={styles.orderText}> {orderData.coffeeAmount}</span>{' '}\n            <span ref={textRef}>\n              ground ala{' '}\n              <span className={styles.orderText}> {orderData.grindType}</span>,{' '}\n            </span>\n            sent to me{' '}\n            <span className={styles.orderText}> {orderData.deliveryType}</span>\n            .”\n          </p>\n        </div>\n\n        <div className={styles.confirmTextBox}>\n          <p className={styles.confirmText}>\n            Is this correct? You can proceed to checkout or go back to plan\n            selection if something is off. Subscription discount codes can also\n            be redeemed at the checkout.\n          </p>\n        </div>\n\n        <button\n          className={styles.submitOrderBtnMobile}\n          onClick={() => handleClick()}\n        >\n          Checkout -\n          <span className={styles.total}>\n            {calculateTotal(orderData.coffeeAmount, orderData.deliveryType)}\n          </span>{' '}\n          / mo\n        </button>\n\n        <div className={styles.checkoutTotalContainerLg}>\n          <span className={styles.total}>\n            {calculateTotal(orderData.coffeeAmount, orderData.deliveryType)} /\n            mo\n          </span>{' '}\n          <button\n            className={styles.submitOrderBtnLg}\n            onClick={() => handleClick()}\n          >\n            Checkout\n          </button>\n        </div>\n      </div>\n    </div>,\n    document.getElementById('order-modal')\n  );\n};\n\nexport default withRouter(OrderModal);\n"],"sourceRoot":""}